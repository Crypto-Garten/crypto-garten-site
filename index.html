<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Crypto Garten</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <header>
    <img src="logo.png" alt="Crypto Garten Logo" class="logo" />
    <h1>Welcome to Crypto Garten</h1>
  </header>

  <section>
    <a href="Cryptogarten_Whitepaper.pdf" target="_blank" class="btn">View Whitepaper</a>
  </section>

  <section>
    <button id="buyBtn" class="btn">Buy GARTEN (Presale)</button>
    <button id="airdropBtn" class="btn">Claim Airdrop</button>
    <button onclick="stakeTokens()" class="btn">Stake GARTEN</button>
    <button onclick="withdrawStake()" class="btn">Withdraw Stake</button>
    <div id="feedback"></div>
  </section>

  <section>
    <h2>Meet the Team</h2>
    <div class="team-grid">
      <div class="member">
        <img src="hussein_khalifeh.jpg" alt="Hussein Khalifeh">
        <h3>Hussein Khalifeh</h3>
        <p>Founder & CEO — Real estate investor and green blockchain visionary.</p>
      </div>
      <div class="member">
        <img src="hassan_own.jpg" alt="Hassan Own">
        <h3>Hassan Own</h3>
        <p>Business Strategy Lead — Focused on economics and energy investment.</p>
      </div>
      <div class="member">
        <img src="fatima_siblini.jpg" alt="Fatima Siblini">
        <h3>Fatima Siblini</h3>
        <p>Branding & Community — Creative energy behind outreach & engagement.</p>
      </div>
      <div class="member">
        <img src="inaam_khalifeh.jpg" alt="Inaam Khalifeh">
        <h3>Inaam Khalifeh</h3>
        <p>Project Manager — Team coordination, infrastructure & scaling.</p>
      </div>
    </div>
  </section>

  <section>
    <h2>Tokenomics</h2>
    <ul>
      <li>40% Presale</li>
      <li>25% Staking Rewards</li>
      <li>15% Team</li>
      <li>10% Airdrop</li>
      <li>10% Ecosystem & Development</li>
    </ul>
  </section>

  <section>
    <h2>Clean Energy in Action</h2>
    <video controls autoplay muted loop width="100%">
      <source src="garten_explainer_video.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <p>Solar and wind energy powering mining infrastructure — a future where blockchain meets sustainability.</p>
  </section>

  <footer>
    <p><strong>Disclaimer:</strong> Crypto investments involve risk. Crypto Garten provides no financial guarantees. You are responsible for your own decisions.</p>
    <p>Contact us: info@cryptogarten.org</p>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/web3@1.8.2/dist/web3.min.js"></script>
  <script>
    const tokenAddress = "0x65508a62173df9502F9f2e098C583230Fb1eA875";
    const airdropAddress = "0xc823AE3F6e92dC741A37C49b25e6C24d3F130Ea1";
    const presaleAddress = "0x2422287C38434FfA3c04365E3fcDf60bdaB156e2";
    const stakingAddress = "0xF47D6F3e86E5f75681292e57648C5c5E031915be";

    const stakingABI = [
      { "inputs": [{ "internalType": "uint256", "name": "amount", "type": "uint256" }],
        "name": "stake", "outputs": [], "stateMutability": "nonpayable", "type": "function" },
      { "inputs": [], "name": "withdraw", "outputs": [], "stateMutability": "nonpayable", "type": "function" }
    ];

    const tokenABI = [
      { "inputs": [{ "internalType": "address", "name": "spender", "type": "address" },
                   { "internalType": "uint256", "name": "amount", "type": "uint256" }],
        "name": "approve", "outputs": [{ "internalType": "bool", "name": "", "type": "bool" }],
        "stateMutability": "nonpayable", "type": "function" }
    ];

    window.addEventListener('load', async () => {
      if (window.ethereum) {
        window.web3 = new Web3(window.ethereum);
        await ethereum.request({ method: 'eth_requestAccounts' });

        document.getElementById('buyBtn').addEventListener('click', async () => {
          const amountInBNB = prompt("Enter BNB amount to buy GARTEN:", "0.1");
          if (!amountInBNB) return;
          const value = web3.utils.toWei(amountInBNB, 'ether');
          const accounts = await web3.eth.getAccounts();
          try {
            await web3.eth.sendTransaction({ from: accounts[0], to: presaleAddress, value });
            document.getElementById("feedback").innerText = "Purchase successful!";
          } catch (err) {
            document.getElementById("feedback").innerText = "Transaction failed.";
          }
        });

        document.getElementById('airdropBtn').addEventListener('click', async () => {
          const airdropABI = [{ "inputs":[],"name":"claim","outputs":[],"stateMutability":"nonpayable","type":"function" }];
          const contract = new web3.eth.Contract(airdropABI, airdropAddress);
          const accounts = await web3.eth.getAccounts();
          try {
            await contract.methods.claim().send({ from: accounts[0] });
            document.getElementById("feedback").innerText = "Airdrop claimed!";
          } catch (err) {
            document.getElementById("feedback").innerText = "Airdrop failed.";
          }
        });

      } else {
        alert('MetaMask not detected. Please install it.');
      }
    });

    async function stakeTokens() {
      const amount = prompt("Enter amount of GARTEN to stake:");
      if (!amount) return;
      const stakeWei = web3.utils.toWei(amount, 'ether');
      const accounts = await web3.eth.getAccounts();
      const token = new web3.eth.Contract(tokenABI, tokenAddress);
      const stakeContract = new web3.eth.Contract(stakingABI, stakingAddress);
      try {
        await token.methods.approve(stakingAddress, stakeWei).send({ from: accounts[0] });
        await stakeContract.methods.stake(stakeWei).send({ from: accounts[0] });
        document.getElementById("feedback").innerText = "Stake successful!";
      } catch (err) {
        document.getElementById("feedback").innerText = "Stake failed.";
      }
    }

    async function withdrawStake() {
      const accounts = await web3.eth.getAccounts();
      const contract = new web3.eth.Contract(stakingABI, stakingAddress);
      try {
        await contract.methods.withdraw().send({ from: accounts[0] });
        document.getElementById("feedback").innerText = "Withdraw successful!";
      } catch (err) {
        document.getElementById("feedback").innerText = "Withdraw failed.";
      }
    }
  </script>
</body>
</html>
