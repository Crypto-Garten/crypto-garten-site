<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Crypto Garten</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <div class="header-left"><img src="logo.png" class="logo" alt="Logo"></div>
    <h1>Crypto Garten</h1>
    <div class="header-right"><img src="logo.png" class="logo" alt="Logo"></div>
  </header>

  <section class="hero">
    <h2>Green Power, Blockchain Future</h2>
    <p>Cryptogarten ($GARTEN) is the world’s first green crypto ecosystem — fueling blockchain innovation with 100% renewable energy.</p>
    <a href="Cryptogarten_Whitepaper.pdf" class="btn">Read Whitepaper</a>
    <a href="#" class="btn" id="buyBtn">Buy GARTEN</a>
    <a href="#" class="btn" id="airdropBtn">Claim Airdrop</a>
    <p id="feedback" style="margin-top: 1rem;"></p>
  </section>

  <section class="about">
    <h2>About</h2>
    <p>Crypto Garten is a project committed to sustainable blockchain solutions, powered by renewable energy and decentralized ownership.</p>
  </section>

  <section class="vision">
    <h2>Our Vision</h2>
    <p>We envision a world where crypto contributes to a cleaner planet. Crypto Garten merges tech with sustainability for a greener tomorrow.</p>
  </section>

  <section class="tokenomics">
    <h2>Tokenomics</h2>
    <ul>
      <li><strong>Total Supply:</strong> 1,000,000,000 GARTEN</li>
      <li>30% Community & Rewards</li>
      <li>20% Ecosystem Fund</li>
      <li>20% Team & Advisors</li>
      <li>15% Strategic Partnerships</li>
      <li>15% Liquidity & Exchanges</li>
    </ul>
  </section>

  <section class="team">
    <h2>Meet the Team</h2>
    <div class="team-grid">
      <div class="member">
        <img src="hussein_khalifeh.jpg" alt="Hussein Khalifeh">
        <h3>Hussein Khalifeh</h3>
        <p>Doctor from Germany, Head of Department, and real estate investor passionate about blockchain and green innovation.</p>
      </div>
      <div class="member">
        <img src="hassan_own.jpg" alt="Hassan Own">
        <h3>Hassan Own</h3>
        <p>Experienced businessman and trading expert, specializing in economics, digital markets, and clean energy.</p>
      </div>
      <div class="member">
        <img src="fatima_siblini.jpg" alt="Fatima Siblini">
        <h3>Fatima Siblini</h3>
        <p>Creative advertising specialist with strong experience in brand identity and digital promotion.</p>
      </div>
      <div class="member">
        <img src="inaam_khalifeh.jpg" alt="Inaam Khalifeh">
        <h3>Inaam Khalifeh</h3>
        <p>Lead project coordinator with a background in logistics and community management, driving sustainable initiatives.</p>
      </div>
    </div>
  </section>

  <section class="faq">
    <h2>FAQ</h2>
    <h4>How can I buy GARTEN?</h4>
    <p>Presale and exchange listings will be announced. Stay tuned!</p>
    <h4>What powers Crypto Garten?</h4>
    <p>Renewable energy — including wind, solar, and hydro — supports all operations.</p>
  </section>

  <footer>
    <p>&copy; 2025 Crypto Garten | Contact: <a href="mailto:crypto_garten@hotmail.com">crypto_garten@hotmail.com</a></p>
  </footer>
  <script>
    const presaleAddress = '0xffbC6fAac4fC3ebfFD2EDBE6c5C697F958b12F35';
    const airdropAddress = '0xbE9DD05de62094a885dB6fD202c81232805d3520';
    const feedbackEl = document.getElementById('feedback');

    function toHexWei(amountStr) {
      const parts = amountStr.split('.');
      const wholeStr = parts[0] || '0';
      const fracStr = parts[1] || '';
      if (!/^[0-9]+$/.test(wholeStr) || (fracStr && !/^[0-9]+$/.test(fracStr))) {
        throw new Error('Invalid amount format');
      }
      const whole = BigInt(wholeStr);
      let frac = BigInt(0);
      if (fracStr.length > 0) {
        const fracTrim = fracStr.slice(0, 18);
        frac = BigInt(fracTrim.padEnd(18, '0'));
      }
      const wei = whole * BigInt('1000000000000000000') + frac;
      if (wei === BigInt(0)) {
        throw new Error('Amount must be greater than 0');
      }
      return '0x' + wei.toString(16);
    }

    document.getElementById('buyBtn').addEventListener('click', async function(e) {
      e.preventDefault();
      if (typeof window.ethereum === 'undefined') {
        alert('MetaMask is not installed. Please install MetaMask to continue.');
        return;
      }
      try {
        const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
        if (!accounts || accounts.length === 0) {
          throw new Error('No MetaMask accounts found');
        }
        const account = accounts[0];
        const chainId = await window.ethereum.request({ method: 'eth_chainId' });
        if (chainId !== '0x38') {
          try {
            await window.ethereum.request({
              method: 'wallet_switchEthereumChain',
              params: [{ chainId: '0x38' }]
            });
          } catch (switchError) {
            if (switchError.code === 4902) {
              try {
                await window.ethereum.request({
                  method: 'wallet_addEthereumChain',
                  params: [{
                    chainId: '0x38',
                    chainName: 'Binance Smart Chain',
                    nativeCurrency: { name: 'Binance Coin', symbol: 'BNB', decimals: 18 },
                    rpcUrls: ['https://bsc-dataseed.binance.org/'],
                    blockExplorerUrls: ['https://bscscan.com/']
                  }]
                });
              } catch (addError) {
                throw new Error('Please switch to BSC network in MetaMask.');
              }
            } else {
              throw new Error('Please switch to BSC network in MetaMask.');
            }
          }
        }
        const amountStr = prompt('Enter BNB amount to contribute:');
        if (!amountStr) {
          return;
        }
        const valueHex = toHexWei(amountStr);
        const txParams = {
          from: account,
          to: presaleAddress,
          value: valueHex
        };
        feedbackEl.style.color = '';
        feedbackEl.textContent = 'Awaiting transaction confirmation...';
        const txHash = await window.ethereum.request({ method: 'eth_sendTransaction', params: [txParams] });
        feedbackEl.style.color = 'green';
        feedbackEl.textContent = 'Success! Transaction hash: ' + txHash;
      } catch (error) {
        feedbackEl.style.color = 'red';
        feedbackEl.textContent = 'Error: ' + (error.message || error);
      }
    });

    document.getElementById('airdropBtn').addEventListener('click', async function(e) {
      e.preventDefault();
      if (typeof window.ethereum === 'undefined') {
        alert('MetaMask is not installed. Please install MetaMask to continue.');
        return;
      }
      try {
        const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
        if (!accounts || accounts.length === 0) {
          throw new Error('No MetaMask accounts found');
        }
        const account = accounts[0];
        const chainId = await window.ethereum.request({ method: 'eth_chainId' });
        if (chainId !== '0x38') {
          try {
            await window.ethereum.request({
              method: 'wallet_switchEthereumChain',
              params: [{ chainId: '0x38' }]
            });
          } catch (switchError) {
            if (switchError.code === 4902) {
              try {
                await window.ethereum.request({
                  method: 'wallet_addEthereumChain',
                  params: [{
                    chainId: '0x38',
                    chainName: 'Binance Smart Chain',
                    nativeCurrency: { name: 'Binance Coin', symbol: 'BNB', decimals: 18 },
                    rpcUrls: ['https://bsc-dataseed.binance.org/'],
                    blockExplorerUrls: ['https://bscscan.com/']
                  }]
                });
              } catch (addError) {
                throw new Error('Please switch to BSC network in MetaMask.');
              }
            } else {
              throw new Error('Please switch to BSC network in MetaMask.');
            }
          }
        }
        const txParams = {
          from: account,
          to: airdropAddress,
          value: '0x0',
          data: '0x4e71d92d'
        };
        feedbackEl.style.color = '';
        feedbackEl.textContent = 'Awaiting transaction confirmation...';
        const txHash = await window.ethereum.request({ method: 'eth_sendTransaction', params: [txParams] });
        feedbackEl.style.color = 'green';
        feedbackEl.textContent = 'Success! Airdrop claimed. Transaction hash: ' + txHash;
      } catch (error) {
        feedbackEl.style.color = 'red';
        feedbackEl.textContent = 'Error: ' + (error.message || error);
      }
    });
  </script>
</body>
</html>
